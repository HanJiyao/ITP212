<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">


<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</h:head>

<h:body>
    <ui:composition template="../templates/template.xhtml">
        <ui:define name="content">
            <style type="text/css">
                .ui-dashboard-column {width:200px;}

                .rev {
                    width: 50%
                }

                .formClass{
                    font-size: 150%;
                }
            </style>

            <div id="container">
                <h3>Add Your Review</h3>

                <h:messages globalOnly="true" />

                <h:form id="formReview" method="post" enctype="multipart/form-data" style="margin-top: 10px;" >
                    <h:panelGrid columns="3">

                        <p:outputLabel for="dn" value="Review Title:" styleClass="formClass" /><p:inputText value="#{review.displayName}" id="dn" class="validate" required="true" requiredMessage="Please input a display name."/> <p:message for="dn" />

                        <p:outputLabel for="rate" value="Rating:" styleClass="formClass" /><p:rating value="#{review.rating}" id="rate" required="true" requiredMessage="Please rate the service."/> <p:message for="rate" />

                        <p:outputLabel for="rt" value="Display Name:" styleClass="formClass" /><p:inputText value="#{review.reviewTitle}" id="rt" class="validate"/> <p:message for="rt" />

                        <p:outputLabel for="reviewInput" value="Review:" styleClass="formClass" /><p:inputText value="#{review.reviewText}" required="true" class="validate" requiredMessage="Please input a review before submitting." id="reviewInput" /> <p:message for="reviewInput" />

                        <h:inputHidden value="#{review.id}" />

                        <!--<h:inputHidden value="#{review.reviewUId}" />-->
                        <p:outputLabel styleClass="formClass">Image:<p:fileUpload fileUploadListener="#{reviewController.saveFile(review.reviewPhoto, reviewController.uploadedFile ,review)}" value="#{reviewController.uploadedFile}" mode="simple" skinSimple="true" dragDropSupport="true" allowTypes="/(\.|\/)(jpe?g|png)$/"/></p:outputLabel>

                        <br/>
                        <p:commandButton update="formReview" value="Add Review" type="submit" styleClass="save" action="#{reviewController.addReview(review)}" />

                    </h:panelGrid>
                </h:form>

                <div style="clear: both;"></div>
                <p:button outcome="review" value="Back to all review" icon="pi pi-angle-double-left" />
                <!--<p><h:outputLink value="review.xhtml">All review</h:outputLink></p>-->
            </div>

        </ui:define>
    </ui:composition>

</h:body>
</html>